<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="confing/mappers.base_speciality">
  <resultMap id="BaseResultMap" type="com.hz.demo.model.base_speciality">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 13 11:39:35 CST 2018.
    -->
    <id column="ID" jdbcType="INTEGER" property="id" />
    <result column="PERSONAL_NUMBER" jdbcType="VARCHAR" property="personalNumber" />
    <result column="ADMINISTRATIVE_DUTY_LEVEL" jdbcType="VARCHAR" property="administrativeDutyLevel" />
    <result column="PROFESSIAL_DUTY_LEVEL" jdbcType="VARCHAR" property="professialDutyLevel" />
    <result column="PROFESSIAL_LEVEL" jdbcType="VARCHAR" property="professialLevel" />
    <result column="PROFESSIAL" jdbcType="VARCHAR" property="professial" />
    <result column="JOB_YEAR" jdbcType="VARCHAR" property="jobYear" />
    <result column="PERFORMANCE" jdbcType="VARCHAR" property="performance" />
    <result column="EDUCATION" jdbcType="VARCHAR" property="education" />
    <result column="DEGREE" jdbcType="VARCHAR" property="degree" />
    <result column="NOWUNIT" jdbcType="VARCHAR" property="nowunit" />
    <result column="AREACODE" jdbcType="VARCHAR" property="areacode" />
    <result column="SPECIALITY_NAME" jdbcType="VARCHAR" property="specialityName" />
    <result column="SEX" jdbcType="VARCHAR" property="sex" />
    <result column="ID_CARD_NO" jdbcType="VARCHAR" property="idCardNo" />
    <result column="BIRTHDATE" jdbcType="TIMESTAMP" property="birthdate" />
    <result column="GRADUATE_SCHOOL" jdbcType="VARCHAR" property="graduateSchool" />
    <result column="GRADUATE_DATE" jdbcType="TIMESTAMP" property="graduateDate" />
    <result column="MOBILEPHONE" jdbcType="VARCHAR" property="mobilephone" />
    <result column="TEL" jdbcType="VARCHAR" property="tel" />
    <result column="POSTAL_ADDRESS" jdbcType="VARCHAR" property="postalAddress" />
    <result column="POSTAL_CODE" jdbcType="VARCHAR" property="postalCode" />
    <result column="EMAIL" jdbcType="VARCHAR" property="email" />
    <result column="PRESENTATION" jdbcType="VARCHAR" property="presentation" />
    <result column="ADDTIME" jdbcType="TIMESTAMP" property="addtime" />
    <result column="ADDUSERID" jdbcType="VARCHAR" property="adduserid" />
    <result column="STATE" jdbcType="DECIMAL" property="state" />
    <result column="BACK1" jdbcType="VARCHAR" property="back1" />
    <result column="BACK2" jdbcType="VARCHAR" property="back2" />
    <result column="BACK3" jdbcType="VARCHAR" property="back3" />
    <result column="RECOMMEND_SERIES" jdbcType="VARCHAR" property="recommendSeries" />
    <result column="RECOMMEND_MAJOR" jdbcType="VARCHAR" property="recommendMajor" />
    <result column="ISRANDOM" jdbcType="INTEGER" property="isRandom" />
  </resultMap>

  <resultMap id="JudgingResultMap" type="com.hz.demo.model.base_judging">
    <id column="ID" jdbcType="DECIMAL" property="id" />
    <result column="JUDGING_CODE" jdbcType="VARCHAR" property="judgingCode" />
    <result column="JUDGING_NAME" jdbcType="VARCHAR" property="judgingName" />
    <result column="REVIEW_JURISDICTION" jdbcType="VARCHAR" property="reviewJurisdiction" />
    <result column="REVIEW_SCOPE" jdbcType="VARCHAR" property="reviewScope" />
    <result column="BUILD_UNIT" jdbcType="VARCHAR" property="buildUnit" />
    <result column="MANAGE_UNIT" jdbcType="VARCHAR" property="manageUnit" />
    <result column="LINKMAN" jdbcType="VARCHAR" property="linkman" />
    <result column="PHONE" jdbcType="VARCHAR" property="phone" />
    <result column="EMAIL" jdbcType="VARCHAR" property="email" />
    <result column="POSTAL_CODE" jdbcType="VARCHAR" property="postalCode" />
    <result column="FAX" jdbcType="VARCHAR" property="fax" />
    <result column="JURY_LEVEL" jdbcType="VARCHAR" property="juryLevel" />
    <result column="RECORD_DATE" jdbcType="TIMESTAMP" property="recordDate" />
    <result column="ADDTIME" jdbcType="TIMESTAMP" property="addtime" />
    <result column="ADDUSERID" jdbcType="VARCHAR" property="adduserid" />
    <result column="STATE" jdbcType="DECIMAL" property="state" />
    <result column="BACK1" jdbcType="VARCHAR" property="back1" />
    <result column="BACK2" jdbcType="VARCHAR" property="back2" />
    <result column="BACK3" jdbcType="VARCHAR" property="back3" />
  </resultMap>

  <resultMap id="BaseResultMap1" type="com.hz.demo.model.base_speciality">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Sep 17 17:35:31 CST 2018.
    -->
    <id column="ID" jdbcType="INTEGER" property="id" />
    <result column="PERSONAL_NUMBER" jdbcType="VARCHAR" property="personalNumber" />
    <result column="ADMINISTRATIVE_DUTY_LEVEL" jdbcType="VARCHAR" property="administrativeDutyLevel" />
    <result column="PROFESSIAL_DUTY_NAME" jdbcType="VARCHAR" property="professialDutyLevel" />
    <result column="PROFESSIAL_LEVEL_NAME" jdbcType="VARCHAR" property="professialLevel" />
    <result column="PROFESSIAL" jdbcType="VARCHAR" property="professial" />
    <result column="JOB_YEAR" jdbcType="VARCHAR" property="jobYear" />
    <result column="PERFORMANCE" jdbcType="VARCHAR" property="performance" />
    <result column="EDUCATION" jdbcType="VARCHAR" property="education" />
    <result column="DEGREE_NAME" jdbcType="VARCHAR" property="degree" />
    <result column="NOWUNIT" jdbcType="VARCHAR" property="nowunit" />
    <result column="AREACODE" jdbcType="VARCHAR" property="areacode" />
    <result column="SPECIALITY_NAME" jdbcType="VARCHAR" property="specialityName" />
    <result column="SEX" jdbcType="VARCHAR" property="sex" />
    <result column="ID_CARD_NO" jdbcType="VARCHAR" property="idCardNo" />
    <result column="BIRTHDATE" jdbcType="TIMESTAMP" property="birthdate" />
    <result column="GRADUATE_SCHOOL" jdbcType="VARCHAR" property="graduateSchool" />
    <result column="GRADUATE_DATE" jdbcType="TIMESTAMP" property="graduateDate" />
    <result column="MOBILEPHONE" jdbcType="VARCHAR" property="mobilephone" />
    <result column="TEL" jdbcType="VARCHAR" property="tel" />
    <result column="POSTAL_ADDRESS" jdbcType="VARCHAR" property="postalAddress" />
    <result column="POSTAL_CODE" jdbcType="VARCHAR" property="postalCode" />
    <result column="EMAIL" jdbcType="VARCHAR" property="email" />
    <result column="PRESENTATION" jdbcType="VARCHAR" property="presentation" />
    <result column="ADDTIME" jdbcType="TIMESTAMP" property="addtime" />
    <result column="ADDUSERID" jdbcType="VARCHAR" property="adduserid" />
    <result column="STATE" jdbcType="DECIMAL" property="state" />
    <result column="BACK1" jdbcType="VARCHAR" property="back1" />
    <result column="BACK2" jdbcType="VARCHAR" property="back2" />
    <result column="BACK3" jdbcType="VARCHAR" property="back3" />
    <result column="RECOMMEND_SERIES" jdbcType="VARCHAR" property="recommendSeries" />
    <result column="RECOMMEND_MAJOR" jdbcType="VARCHAR" property="recommendMajor" />
    <result column="ISRANDOM" jdbcType="INTEGER" property="isRandom" />
    <association property="baseEngage" javaType="com.hz.demo.model.base_engage">
      <id column="engageId" jdbcType="INTEGER" property="id" />
      <result column="JUDGING_ID" jdbcType="VARCHAR" property="judgingId" />
      <result column="SPECIALITY_ID" jdbcType="VARCHAR" property="specialityId" />
      <result column="jury_duty_name" jdbcType="VARCHAR" property="juryDuty" />
      <result column="AREACODE" jdbcType="VARCHAR" property="areacode" />
      <result column="BEGIN_DATE" jdbcType="TIMESTAMP" property="beginDate" />
      <result column="END_DATE" jdbcType="TIMESTAMP" property="endDate" />
      <result column="ADDTIME" jdbcType="TIMESTAMP" property="addtime" />
      <result column="ADDUSERID" jdbcType="VARCHAR" property="adduserid" />
      <result column="STATE" jdbcType="DECIMAL" property="state" />
      <result column="BACK1" jdbcType="VARCHAR" property="back1" />
      <result column="BACK2" jdbcType="VARCHAR" property="back2" />
      <result column="BACK3" jdbcType="VARCHAR" property="back3" />
    </association>
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 13 11:39:35 CST 2018.
    -->
    ID, PERSONAL_NUMBER, ADMINISTRATIVE_DUTY_LEVEL, PROFESSIAL_DUTY_LEVEL, PROFESSIAL_LEVEL, 
    PROFESSIAL, JOB_YEAR, PERFORMANCE, EDUCATION, DEGREE, NOWUNIT, AREACODE, SPECIALITY_NAME, 
    SEX, ID_CARD_NO, BIRTHDATE, GRADUATE_SCHOOL, GRADUATE_DATE, MOBILEPHONE, TEL, POSTAL_ADDRESS, 
    POSTAL_CODE, EMAIL, PRESENTATION, ADDTIME, ADDUSERID, STATE, BACK1, BACK2, BACK3,
    RECOMMEND_SERIES,RECOMMEND_MAJOR,ISRANDOM
  </sql>
  <select id="selectByPrimaryKey" parameterType="Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 13 11:39:35 CST 2018.
    -->
    select 
    <include refid="Base_Column_List" />
    from BASE_SPECIALITY
    where ID = #{id}
  </select>

  <select id="selectSpecialityInfo" parameterType="pd" resultType="pd">
    select bj.JUDGING_NAME,bj.JUDGING_code,bj.id JUDGING_id,bsp.id
    from BASE_SPECIALITY bsp
    LEFT JOIN BASE_ENGAGE ben on BEN.SPECIALITY_ID=BSP.id
    LEFT JOIN BASE_JUDGING bj on bj.id=ben.JUDGING_ID
    where bj.state=1 and bj.BACK3=1 and BEN.STATE=1
    and BSP.STATE=1
      <if test="PERSONAL_NUMBER!=''">
        and bsp.PERSONAL_NUMBER=#{PERSONAL_NUMBER}
      </if>

  </select>

  <delete id="deleteByPrimaryKey" parameterType="Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 13 11:39:35 CST 2018.
    -->
    delete from BASE_SPECIALITY
    where ID = #{id}
  </delete>
  <insert id="insert" parameterType="com.hz.demo.model.base_speciality">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 13 11:39:35 CST 2018.
    -->
    <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Integer">
      select
      SEQ_BASE_SPECIALITY.CURRVAL from dual
    </selectKey>
    insert into BASE_SPECIALITY (ID, PERSONAL_NUMBER, ADMINISTRATIVE_DUTY_LEVEL, 
      PROFESSIAL_DUTY_LEVEL, PROFESSIAL_LEVEL, PROFESSIAL, 
      JOB_YEAR, PERFORMANCE, EDUCATION, 
      DEGREE, NOWUNIT, AREACODE, 
      SPECIALITY_NAME, SEX, ID_CARD_NO, 
      BIRTHDATE, GRADUATE_SCHOOL, GRADUATE_DATE, 
      MOBILEPHONE, TEL, POSTAL_ADDRESS, 
      POSTAL_CODE, EMAIL, PRESENTATION, 
      ADDTIME, ADDUSERID, STATE, 
      BACK1, BACK2, BACK3,RECOMMEND_SERIES,RECOMMEND_MAJOR,ISRANDOM
      )
      values (SEQ_BASE_SPECIALITY.nextval, #{personalNumber,jdbcType=VARCHAR}, #{administrativeDutyLevel,jdbcType=VARCHAR},
      #{professialDutyLevel,jdbcType=VARCHAR}, #{professialLevel,jdbcType=VARCHAR}, #{professial,jdbcType=VARCHAR}, 
      #{jobYear,jdbcType=VARCHAR}, #{performance,jdbcType=VARCHAR}, #{education,jdbcType=VARCHAR}, 
      #{degree,jdbcType=VARCHAR}, #{nowunit,jdbcType=VARCHAR}, #{areacode,jdbcType=VARCHAR}, 
      #{specialityName,jdbcType=VARCHAR}, #{sex,jdbcType=VARCHAR}, #{idCardNo,jdbcType=VARCHAR},
      #{birthdate,jdbcType=TIMESTAMP}, #{graduateSchool,jdbcType=VARCHAR}, #{graduateDate,jdbcType=TIMESTAMP},
      #{mobilephone,jdbcType=VARCHAR}, #{tel,jdbcType=VARCHAR}, #{postalAddress,jdbcType=VARCHAR}, 
      #{postalCode,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR}, #{presentation,jdbcType=VARCHAR},
      #{addtime,jdbcType=TIMESTAMP}, #{adduserid,jdbcType=VARCHAR}, #{state,jdbcType=DECIMAL},
      #{back1,jdbcType=VARCHAR}, #{back2,jdbcType=VARCHAR}, #{back3,jdbcType=VARCHAR},
      #{recommendSeries}, #{recommendMajor,jdbcType=VARCHAR}, #{isRandom}
      )
  </insert>

 <!--添加中间关联表(评委会 - 专家表)-->
  <insert id="insertEngage" parameterType="pd">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 13 11:39:35 CST 2018.
    -->

    insert into BASE_ENGAGE (ID, JUDGING_ID, SPECIALITY_ID,
    JURY_DUTY, AREACODE, BEGIN_DATE,
    END_DATE, ADDTIME, ADDUSERID,
    STATE, BACK1, BACK2,
    BACK3)
    values (SEQ_BASE_ENGAGE.nextval, #{judgingId,jdbcType=VARCHAR}, #{specialityId,jdbcType=VARCHAR},
    #{juryDuty,jdbcType=VARCHAR}, #{areacode,jdbcType=VARCHAR}, #{beginDate,jdbcType=TIMESTAMP},
    #{endDate,jdbcType=TIMESTAMP}, #{addtime,jdbcType=TIMESTAMP}, #{adduserid,jdbcType=VARCHAR},
    #{state,jdbcType=DECIMAL}, #{back1,jdbcType=VARCHAR}, #{back2,jdbcType=VARCHAR},
    #{back3,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.hz.demo.model.base_speciality">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 13 11:39:35 CST 2018.
    -->
    insert into BASE_SPECIALITY
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        ID,
      </if>
      <if test="personalNumber != null">
        PERSONAL_NUMBER,
      </if>
      <if test="administrativeDutyLevel != null">
        ADMINISTRATIVE_DUTY_LEVEL,
      </if>
      <if test="professialDutyLevel != null">
        PROFESSIAL_DUTY_LEVEL,
      </if>
      <if test="professialLevel != null">
        PROFESSIAL_LEVEL,
      </if>
      <if test="professial != null">
        PROFESSIAL,
      </if>
      <if test="jobYear != null">
        JOB_YEAR,
      </if>
      <if test="performance != null">
        PERFORMANCE,
      </if>
      <if test="education != null">
        EDUCATION,
      </if>
      <if test="degree != null">
        DEGREE,
      </if>
      <if test="nowunit != null">
        NOWUNIT,
      </if>
      <if test="areacode != null">
        AREACODE,
      </if>
      <if test="specialityName != null">
        SPECIALITY_NAME,
      </if>
      <if test="sex != null">
        SEX,
      </if>
      <if test="idCardNo != null">
        ID_CARD_NO,
      </if>
      <if test="birthdate != null">
        BIRTHDATE,
      </if>
      <if test="graduateSchool != null">
        GRADUATE_SCHOOL,
      </if>
      <if test="graduateDate != null">
        GRADUATE_DATE,
      </if>
      <if test="mobilephone != null">
        MOBILEPHONE,
      </if>
      <if test="tel != null">
        TEL,
      </if>
      <if test="postalAddress != null">
        POSTAL_ADDRESS,
      </if>
      <if test="postalCode != null">
        POSTAL_CODE,
      </if>
      <if test="email != null">
        EMAIL,
      </if>
      <if test="presentation != null">
        PRESENTATION,
      </if>
      <if test="addtime != null">
        ADDTIME,
      </if>
      <if test="adduserid != null">
        ADDUSERID,
      </if>
      <if test="state != null">
        STATE,
      </if>
      <if test="back1 != null">
        BACK1,
      </if>
      <if test="back2 != null">
        BACK2,
      </if>
      <if test="back3 != null">
        BACK3,
      </if>
      <if test="recommendSeries != null">
        RECOMMEND_SERIES,
      </if>
      <if test="recommendMajor != null">
        RECOMMEND_MAJOR,
      </if>
      <if test="isRandom != null">
        ISRANDOM,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=DECIMAL},
      </if>
      <if test="personalNumber != null">
        #{personalNumber,jdbcType=DECIMAL},
      </if>
      <if test="administrativeDutyLevel != null">
        #{administrativeDutyLevel,jdbcType=VARCHAR},
      </if>
      <if test="professialDutyLevel != null">
        #{professialDutyLevel,jdbcType=VARCHAR},
      </if>
      <if test="professialLevel != null">
        #{professialLevel,jdbcType=VARCHAR},
      </if>
      <if test="professial != null">
        #{professial,jdbcType=VARCHAR},
      </if>
      <if test="jobYear != null">
        #{jobYear,jdbcType=VARCHAR},
      </if>
      <if test="performance != null">
        #{performance,jdbcType=VARCHAR},
      </if>
      <if test="education != null">
        #{education,jdbcType=VARCHAR},
      </if>
      <if test="degree != null">
        #{degree,jdbcType=VARCHAR},
      </if>
      <if test="nowunit != null">
        #{nowunit,jdbcType=VARCHAR},
      </if>
      <if test="areacode != null">
        #{areacode,jdbcType=VARCHAR},
      </if>
      <if test="specialityName != null">
        #{specialityName,jdbcType=VARCHAR},
      </if>
      <if test="sex != null">
        #{sex,jdbcType=VARCHAR},
      </if>
      <if test="idCardNo != null">
        #{idCardNo,jdbcType=VARCHAR},
      </if>
      <if test="birthdate != null">
        #{birthdate,jdbcType=TIMESTAMP},
      </if>
      <if test="graduateSchool != null">
        #{graduateSchool,jdbcType=VARCHAR},
      </if>
      <if test="graduateDate != null">
        #{graduateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="mobilephone != null">
        #{mobilephone,jdbcType=VARCHAR},
      </if>
      <if test="tel != null">
        #{tel,jdbcType=VARCHAR},
      </if>
      <if test="postalAddress != null">
        #{postalAddress,jdbcType=VARCHAR},
      </if>
      <if test="postalCode != null">
        #{postalCode,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="presentation != null">
        #{presentation,jdbcType=VARCHAR},
      </if>
      <if test="addtime != null">
        #{addtime,jdbcType=TIMESTAMP},
      </if>
      <if test="adduserid != null">
        #{adduserid,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        #{state,jdbcType=DECIMAL},
      </if>
      <if test="back1 != null">
        #{back1,jdbcType=VARCHAR},
      </if>
      <if test="back2 != null">
        #{back2,jdbcType=VARCHAR},
      </if>
      <if test="back3 != null">
        #{back3,jdbcType=VARCHAR},
      </if>
      <if test="recommendSeries != null">
        #{recommendSeries,jdbcType=VARCHAR},
      </if>
      <if test="recommendMajor != null">
        #{recommendMajor,jdbcType=VARCHAR},
      </if>
      <if test="isRandom != null">
        #{isRandom},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.hz.demo.model.base_speciality">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 13 11:39:35 CST 2018.
    -->
    update BASE_SPECIALITY
    <set>
      <if test="personalNumber != null">
        PERSONAL_NUMBER = #{personalNumber,jdbcType=VARCHAR},
      </if>
      <if test="administrativeDutyLevel != null">
        ADMINISTRATIVE_DUTY_LEVEL = #{administrativeDutyLevel,jdbcType=VARCHAR},
      </if>
      <if test="professialDutyLevel != null">
        PROFESSIAL_DUTY_LEVEL = #{professialDutyLevel,jdbcType=VARCHAR},
      </if>
      <if test="professialLevel != null">
        PROFESSIAL_LEVEL = #{professialLevel,jdbcType=VARCHAR},
      </if>
      <if test="professial != null">
        PROFESSIAL = #{professial,jdbcType=VARCHAR},
      </if>
      <if test="jobYear != null">
        JOB_YEAR = #{jobYear,jdbcType=VARCHAR},
      </if>
      <if test="performance != null">
        PERFORMANCE = #{performance,jdbcType=VARCHAR},
      </if>
      <if test="education != null">
        EDUCATION = #{education,jdbcType=VARCHAR},
      </if>
      <if test="degree != null">
        DEGREE = #{degree,jdbcType=VARCHAR},
      </if>
      <if test="nowunit != null">
        NOWUNIT = #{nowunit,jdbcType=VARCHAR},
      </if>
      <if test="areacode != null">
        AREACODE = #{areacode,jdbcType=VARCHAR},
      </if>
      <if test="specialityName != null">
        SPECIALITY_NAME = #{specialityName,jdbcType=VARCHAR},
      </if>
      <if test="sex != null">
        SEX = #{sex,jdbcType=VARCHAR},
      </if>
      <if test="idCardNo != null">
        ID_CARD_NO = #{idCardNo,jdbcType=VARCHAR},
      </if>
      <if test="birthdate != null">
        BIRTHDATE = #{birthdate,jdbcType=TIMESTAMP},
      </if>
      <if test="graduateSchool != null">
        GRADUATE_SCHOOL = #{graduateSchool,jdbcType=VARCHAR},
      </if>
      <if test="graduateDate != null">
        GRADUATE_DATE = #{graduateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="mobilephone != null">
        MOBILEPHONE = #{mobilephone,jdbcType=VARCHAR},
      </if>
      <if test="tel != null">
        TEL = #{tel,jdbcType=VARCHAR},
      </if>
      <if test="postalAddress != null">
        POSTAL_ADDRESS = #{postalAddress,jdbcType=VARCHAR},
      </if>
      <if test="postalCode != null">
        POSTAL_CODE = #{postalCode,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        EMAIL = #{email,jdbcType=VARCHAR},
      </if>
      <if test="presentation != null">
        PRESENTATION = #{presentation,jdbcType=VARCHAR},
      </if>
      <if test="addtime != null">
        ADDTIME = #{addtime,jdbcType=TIMESTAMP},
      </if>
      <if test="adduserid != null">
        ADDUSERID = #{adduserid,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        STATE = #{state,jdbcType=DECIMAL},
      </if>
      <if test="back1 != null">
        BACK1 = #{back1,jdbcType=VARCHAR},
      </if>
      <if test="back2 != null">
        BACK2 = #{back2,jdbcType=VARCHAR},
      </if>
      <if test="back3 != null">
        BACK3 = #{back3,jdbcType=VARCHAR},
      </if>
      <if test="recommendSeries != null">
        RECOMMEND_SERIES = #{recommendSeries,jdbcType=VARCHAR},
      </if>
      <if test="recommendMajor != null">
        RECOMMEND_MAJOR = #{recommendMajor,jdbcType=VARCHAR},
      </if>
      <if test="isRandom != null">
        ISRANDOM = #{isRandom}
      </if>
    </set>
    where ID = #{id}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.hz.demo.model.base_speciality">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 13 11:39:35 CST 2018.
    -->
    update BASE_SPECIALITY
    set PERSONAL_NUMBER = #{personalNumber,jdbcType=VARCHAR},
      ADMINISTRATIVE_DUTY_LEVEL = #{administrativeDutyLevel,jdbcType=VARCHAR},
      PROFESSIAL_DUTY_LEVEL = #{professialDutyLevel,jdbcType=VARCHAR},
      PROFESSIAL_LEVEL = #{professialLevel,jdbcType=VARCHAR},
      PROFESSIAL = #{professial,jdbcType=VARCHAR},
      JOB_YEAR = #{jobYear,jdbcType=VARCHAR},
      PERFORMANCE = #{performance,jdbcType=VARCHAR},
      EDUCATION = #{education,jdbcType=VARCHAR},
      DEGREE = #{degree,jdbcType=VARCHAR},
      NOWUNIT = #{nowunit,jdbcType=VARCHAR},
      AREACODE = #{areacode,jdbcType=VARCHAR},
      SPECIALITY_NAME = #{specialityName,jdbcType=VARCHAR},
      SEX = #{sex,jdbcType=VARCHAR},
      ID_CARD_NO = #{idCardNo,jdbcType=VARCHAR},
      BIRTHDATE = #{birthdate,jdbcType=TIMESTAMP},
      GRADUATE_SCHOOL = #{graduateSchool,jdbcType=VARCHAR},
      GRADUATE_DATE = #{graduateDate,jdbcType=TIMESTAMP},
      MOBILEPHONE = #{mobilephone,jdbcType=VARCHAR},
      TEL = #{tel,jdbcType=VARCHAR},
      POSTAL_ADDRESS = #{postalAddress,jdbcType=VARCHAR},
      POSTAL_CODE = #{postalCode,jdbcType=VARCHAR},
      EMAIL = #{email,jdbcType=VARCHAR},
      PRESENTATION = #{presentation,jdbcType=VARCHAR},
      ADDTIME = #{addtime,jdbcType=TIMESTAMP},
      ADDUSERID = #{adduserid,jdbcType=VARCHAR},
      STATE = #{state,jdbcType=DECIMAL},
      BACK1 = #{back1,jdbcType=VARCHAR},
      BACK2 = #{back2,jdbcType=VARCHAR},
      BACK3 = #{back3,jdbcType=VARCHAR},
      RECOMMEND_SERIES = #{recommendSeries,jdbcType=VARCHAR},
      RECOMMEND_MAJOR = #{recommendMajor,jdbcType=VARCHAR},
      ISRANDOM = #{isRandom}
    where ID = #{id,jdbcType=DECIMAL}
  </update>

  <!--根据条件/分页查询全部记录-->
  <!--<select id="selectList" parameterType="pd" resultMap="BaseResultMap1">

    select * from
    (select rownum rn,f.* from
    (select * from (
    select t1.*,b1.DICT_NAME as jury_duty_name from   base_engage t1
    LEFT JOIN (select DICT_NAME,dict_code FROM sys_dict WHERE GROUP_NAME = 'JURY_DUTY')b1
    on t1.JURY_DUTY = b1.DICT_CODE
    where 1 = 1
    <if test="judgingId != null and judgingId!='' ">
      AND judging_id = #{judgingId}
    </if>
    )a RIGHT join
    (
    select d.ID,d.PERSONAL_NUMBER,d.PROFESSIAL_DUTY_LEVEL,d.PROFESSIAL_LEVEL, d.PROFESSIAL,d.JOB_YEAR,
    d.PERFORMANCE,d.EDUCATION,d.DEGREE,d.NOWUNIT,d.AREACODE,d.SPECIALITY_NAME, d.SEX ,d.ID_CARD_NO,d.BIRTHDATE,
    d.GRADUATE_SCHOOL,d.GRADUATE_DATE,d.MOBILEPHONE,d.TEL,d.POSTAL_ADDRESS, d.POSTAL_CODE,d.EMAIL,d.PRESENTATION,
    d.ADDTIME,d.ADDUSERID,d.STATE,t1.dict_name as sex_name,t2.dict_name as ADMINISTRATIVE_DUTY_LEVEL,
    t3.dict_name as EDUCATION_NAME,t4.dict_name as DEGREE_NAME
    from base_speciality d
    left join sys_dict t1 on d.SEX = t1.dict_code and t1.group_name = 'SEX'
    left join sys_dict t2 on d.administrative_duty_level = t2.dict_code and t2.group_name = 'ADMINISTRATIVE_DUTY_LEVEL'
    left join sys_dict t3 on d.EDUCATION = t3.dict_code and t3.group_name = 'EDU_EDU'
    left join sys_dict t4 on d.DEGREE = t4.dict_code and t4.group_name = 'DEGREE'
    WHERE 1 = 1
    <if test="specialityName != null and specialityName !=''">
      and d.SPECIALITY_NAME like '%'||#{specialityName}||'%'
    </if>
    )e
    on a.speciality_id = e.id )f
    <if test="page != null and rows != null">
      where rownum  &lt;=#{rows}*#{page}) where rn > (#{page}-1)*#{rows}
    </if>
  </select>
-->
  <!--根据条件查询全部记录个数-->
 <!-- <select id="selectCount" parameterType="pd" resultType="Integer">
    select count(*) as listcount from base_engage a inner join (
    select*
    from base_speciality d
    left join (select * FROM sys_dict WHERE GROUP_NAME = 'ADMINISTRATIVE_DUTY_LEVEL')b
    on d.administrative_duty_level = b.DICT_CODE  where 1=1
    <if test="specialityName != null and specialityName !=''">
      and SPECIALITY_NAME like '%'||#{specialityName}||'%'
    </if>
    )e  on a.speciality_id = e.id
    where 0 = 1
    <if test="judgingId != null and judgingId !=''">
      OR judging_id = #{judgingId}
    </if>
  </select>-->
  <!--根据条件/分页查询全部记录-->
  <select id="selectList" parameterType="pd" resultMap="BaseResultMap1">

    select *
      from
      (select rownum rn,e.* from
      (
        select d.ID,d.PERSONAL_NUMBER,d.PROFESSIAL_DUTY_LEVEL,d.PROFESSIAL_LEVEL,
        d.PROFESSIAL,d.JOB_YEAR,d.PERFORMANCE,d.EDUCATION,d.DEGREE,d.NOWUNIT,d.AREACODE,d.SPECIALITY_NAME,
        d.SEX,d.ID_CARD_NO,d.BIRTHDATE,d.GRADUATE_SCHOOL,d.GRADUATE_DATE,d.MOBILEPHONE,d.TEL,d.POSTAL_ADDRESS,
        d.POSTAL_CODE,d.EMAIL,d.PRESENTATION,d.ADDTIME,d.ADDUSERID,d.STATE,d.RECOMMEND_SERIES,d.RECOMMEND_MAJOR,
        d.ISRANDOM,t1.dict_name as sex_name,t2.dict_name as ADMINISTRATIVE_DUTY_LEVEL,
        t3.dict_name as EDUCATION_NAME,t4.dict_name as DEGREE_NAME,
        tb1.dict_name as PROFESSIAL_LEVEL_NAME,tb2.dict_name as PROFESSIAL_DUTY_NAME,
        t5.id AS engageId,t5.judging_id,t5.jury_duty_name,t5.begin_date,t5.end_date
        from (
          select * from base_speciality a where 1 = 1
          <if test="judgingId != null and judgingId !=''">
           AND id in
          (select speciality_id from base_engage where judging_id = #{judgingId})
          </if>
        <if test="specialityName != null and specialityName !=''">
          and SPECIALITY_NAME like '%'||#{specialityName}||'%'
        </if>
        <if test="administrativeDutyLevel != null and administrativeDutyLevel !=''">
          and ADMINISTRATIVE_DUTY_LEVEL = #{administrativeDutyLevel}
        </if>
        <if test="professialLevel != null and professialLevel !=''">
          and PROFESSIAL_LEVEL  = #{professialLevel}
        </if>
        <if test="professialDutyLevel != null and professialDutyLevel !=''">
          and PROFESSIAL_DUTY_LEVEL = #{professialDutyLevel}
        </if>
    ORDER by a.ADDTIME DESC)d
    left join sys_dict t1 on d.SEX = t1.dict_code and t1.group_name = 'SEX'
    left join sys_dict t2 on d.administrative_duty_level = t2.dict_code and t2.group_name = 'ADMINISTRATIVE_DUTY_LEVEL'
    left join sys_dict t3 on d.EDUCATION = t3.dict_code and t3.group_name = 'EDU_EDU'
    left join sys_dict t4 on d.DEGREE = t4.dict_code and t4.group_name = 'DEGREE'
    left join sys_dict tb1 on d.PROFESSIAL_LEVEL = tb1.dict_code and tb1.group_name = 'POSITIONAL_TITLES'
    left join sys_dict tb2 on d.PROFESSIAL_DUTY_LEVEL = tb2.dict_code and tb2.group_name = 'TITLE_LEVEL'
    LEFT JOIN (select max(id) id,SPECIALITY_ID from BASE_ENGAGE ben group by ben.SPECIALITY_ID ) beg
    on beg.SPECIALITY_ID=d.id
    LEFT JOIN
      (SELECT tb1.*,tb2.DICT_NAME AS jury_duty_name from base_engage tb1 LEFT join sys_dict tb2 on tb1.JURY_DUTY =
      tb2.DICT_CODE AND tb2.group_name = 'JURY_DUTY' left join BASE_JUDGING_PROCESS bjpr on bjpr.JUDGING_CODE=tb1.JUDGING_CODE
    where PROCESS_TYPE&lt;8
      )t5 ON beg.id = t5.id
    )e
    <if test="page != null and rows != null">
        where rownum &lt;=#{rows}*#{page})
        where  rn>(#{page}-1)*#{rows}
      </if>
  </select>

  <!--根据条件查询全部记录个数-->
  <select id="selectCount" parameterType="pd" resultType="Integer">
    select count(*) as listcount from base_speciality a  where 1 = 1
    <if test="judgingId != null and judgingId !=''">
      AND id in
      (select speciality_id from base_engage where judging_id = #{judgingId})
    </if>
    <if test="specialityName != null and specialityName !=''">
      and SPECIALITY_NAME like '%'||#{specialityName}||'%'
    </if>
    <if test="administrativeDutyLevel != null and administrativeDutyLevel !=''">
      and ADMINISTRATIVE_DUTY_LEVEL = #{administrativeDutyLevel}
    </if>
    <if test="professialLevel != null and professialLevel !=''">
      and PROFESSIAL_LEVEL  = #{professialLevel}
    </if>
    <if test="professialDutyLevel != null and professialDutyLevel !=''">
      and PROFESSIAL_DUTY_LEVEL = #{professialDutyLevel}
    </if>
  </select>

  <!--查询评委会信息-->
  <select id="getJudgingList" parameterType="pd" resultMap="JudgingResultMap">
    select * from base_judging where BACK3 = 1
    <if test="judgingName != null and judgingName !=''">
      and judging_name like '%'||#{judgingName}||'%'
    </if>
    <if test="manageUnitCode != null and manageUnitCode !=''">
      and MANAGE_UNIT = #{manageUnitCode}
    </if>
    order by jury_level DESC

  </select>
  <!--查询评委会树信息-->
  <select id="getTreeList" resultType="Map">
    SELECT  id,judging_name as text, judging_code as ATTRIBUTES
    FROM base_judging
    WHERE  BACK3 = 1
    <if test="manageUnitCode != null and manageUnitCode !=''">
      and MANAGE_UNIT = #{manageUnitCode}
    </if>
    <if test="JUDGING_CODE != null and JUDGING_CODE !=''">
      and JUDGING_CODE = #{JUDGING_CODE}
    </if>
    <if test="judgingName != null and judgingName !=''">
      and judging_name like '%'||#{judgingName}||'%'
    </if>
    ORDER BY  manage_unit,jury_level DESC
  </select>
  <!-- 根据手机号或身份证号查询用户 验证是否存在-->
  <select id="getSpecialityWhere" parameterType="pd" resultMap="BaseResultMap">

    SELECT * FROM
    (
    select
    <include refid="Base_Column_List" />
    from base_speciality
    where 1 = 1
    <if test="id != null and id !=''">
      AND ID != #{id}
    </if>
    )
    WHERE 1 = 0
    <if test="mobilephone != null and mobilephone !='' ">
      OR MOBILEPHONE = #{mobilephone,jdbcType=VARCHAR}
    </if>
    <if test="idCardNo != null and idCardNo !='' ">
      OR ID_CARD_NO = #{idCardNo,jdbcType=VARCHAR}
    </if>
  </select>

  <select id="loginEngage" parameterType="java.lang.String" resultType="pd">
     select * from (
     select ben.SPECIALITY_ID,bj.JUDGING_CODE,bj.JUDGING_NAME,bj.id judging_id
      from BASE_ENGAGE ben
      LEFT JOIN BASE_SPECIALITY bs on bs.id=ben.SPECIALITY_ID and bs.STATE=1
      LEFT JOIN BASE_JUDGING bj on bj.id=ben.JUDGING_ID and bj.STATE=1 and bj.BACK3=1
     where bs.PERSONAL_NUMBER=#{userId} and ben.STATE=1 and ben.TYPE=0
     union
    select ben.SPECIALITY_ID,bj.JUDGING_CODE,bj.JUDGING_NAME,bj.id judging_id
    from BASE_SPECIALITY_GROUP ben
    LEFT JOIN BASE_SPECIALITY bs on bs.id=ben.SPECIALITY_ID and bs.STATE=1
    LEFT JOIN BASE_JUDGING bj on bj.JUDGING_CODE=ben.JUDGING_CODE and bj.STATE=1 and bj.BACK3=1
     where bs.PERSONAL_NUMBER=#{userId} and ben.TYPE=0
)
  </select>

</mapper>